<!--pages/order/my/index.wxml-->
<view wx:if="{{!swiper}}">
  <view class="swiper-tab">
    <view class="swiper-tab-list {{currentTab == 0 ? 'on' : ''}}" data-current="0" bindtap="swichNav">进行中</view>
    <view class="swiper-tab-list {{currentTab == 1 ? 'on' : ''}}" data-current="1" bindtap="swichNav">我的订单</view>
    <view class="swiper-tab-list {{currentTab == 2 ? 'on' : ''}}" data-current="2" bindtap="swichNav">我的接单</view>
  </view>

  <swiper current="{{currentTab}}" class="swiper-box" duration="300" style='height:{{winHeight - 50}}px' bindchange='bindChange'>
    <swiper-item catchtouchmove="stopTouchMove" wx:if='{{loadingHide}}'>
      <scroll-view scroll-y="true" class='scroll-views' style='height:{{winHeight - 105}}px'>
        <view class="item-wrapper">
          <view class="item-list" wx:for="{{order}}" wx:for-item="item" wx:for-index="index" wx:key="that">
            <view class="item-info" data-index="{{index}}" bindtouchstart="touchS" bindtouchmove="touchMove" bindtouchend="touchEnd" style="left:{{item.left + 'rpx'}}">
              <image class="info-img" src="{{item.img}}"></image>
              <view class="info-wrapper">
                <view class="info-desc">
                  <view class="name" wx:if="{{item.type == 'T'}}">接代拿</view>
                  <view class="name" wx:elif="{{item.type == 'O'}}">接其他</view>
                  <view class="name" wx:else="{{item.type == 'N'}}">需代拿</view>
                  <view class="time">{{item.status_labal}}</view>
                </view>
                <view class="info-content">需要：{{item.sex}}生 {{item.contact_building}}</view>
              </view>
            </view>
            <view class="item-oper">
              <view class="oper-delete" bindtap="itemDelete" data-index="{{index}}" data-id='{{item.order_no}}'>删除</view>
            </view>
          </view>
        </view>
      </scroll-view>
    </swiper-item>

    <swiper-item catchtouchmove="stopTouchMove" wx:if='{{loadingHide}}'>
      <scroll-view scroll-y="true" class='scroll-views' style='height:{{winHeight - 105}}px'>
        <view class="item-wrapper">
          <view class="item-list" wx:for="{{order}}" wx:for-item="item" wx:for-index="index" wx:key="that">
            <view class="item-info" data-index="{{index}}" bindtouchstart="touchS" bindtouchmove="touchMove" bindtouchend="touchEnd" style="left:{{item.left + 'rpx'}}">
              <image class="info-img" src="{{item.img}}"></image>
              <view class="info-wrapper">
                <view class="info-desc">
                  <view class="name" wx:if="{{item.type == 'T'}}">接代拿</view>
                  <view class="name" wx:elif="{{item.type == 'O'}}">接其他</view>
                  <view class="name" wx:else="{{item.type == 'N'}}">需代拿</view>
                  <view class="time">{{item.status_labal}}</view>
                </view>
                <view class="info-content">需要：{{item.sex}}生 {{item.contact_building}}</view>
              </view>
            </view>
            <view class="item-oper">
              <view class="oper-delete" bindtap="itemDelete" data-index="{{index}}">删除</view>
            </view>
          </view>
        </view>
      </scroll-view>
    </swiper-item>

    <swiper-item catchtouchmove="stopTouchMove" wx:if='{{loadingHide}}'>
      <scroll-view scroll-y="true" class='scroll-views' style='height:{{winHeight - 105}}px'>
        <view class="item-wrapper">
          <view class="item-list" wx:for="{{order}}" wx:for-item="item" wx:for-index="index" wx:key="that">
            <view class="item-info" data-index="{{index}}" bindtouchstart="touchS" bindtouchmove="touchMove" bindtouchend="touchEnd" style="left:{{item.left + 'rpx'}}">
              <image class="info-img" src="{{item.img}}"></image>
              <view class="info-wrapper">
                <view class="info-desc">
                  <view class="name" wx:if="{{item.type == 'T'}}">接代拿</view>
                  <view class="name" wx:elif="{{item.type == 'O'}}">接其他</view>
                  <view class="name" wx:else="{{item.type == 'N'}}">需代拿</view>
                  <view class="time">{{item.status_labal}}</view>
                </view>
                <view class="info-content">需要：{{item.sex}}生 {{item.contact_building}}</view>
              </view>
            </view>
            <view class="item-oper">
              <view class="oper-delete" bindtap="itemDelete" data-index="{{index}}">删除</view>
            </view>
          </view>
        </view>
      </scroll-view>
    </swiper-item>

  </swiper>
</view>

<view class='btn'>
  <button bindtap='onJumpOrder'>发起</button>
</view>